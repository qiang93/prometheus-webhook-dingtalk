(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{177:function(e,a,t){},183:function(e,a,t){},185:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(28),c=t.n(l),s=t(10),o=t(15),i=t(189),m=t(190),u=t(191),p=t(192),d=t(193),E=t(194),f=t(210),g=t(211),v=t(212),b=t(195),h=function(){var e=Object(n.useState)(!1),a=Object(s.a)(e,2),t=a[0],l=a[1];return r.a.createElement(i.a,{className:"mb-3",dark:!0,color:"dark",expand:"md",fixed:"top"},r.a.createElement(m.a,{onClick:function(){return l(!t)}}),r.a.createElement(o.a,{className:"pt-0 navbar-brand",to:"/ui/playground"},"Prometheus Webhook Dingtalk"),r.a.createElement(u.a,{isOpen:t,navbar:!0,style:{justifyContent:"space-between"}},r.a.createElement(p.a,{className:"ml-0",navbar:!0},r.a.createElement(d.a,null,r.a.createElement(E.a,{tag:o.a,to:"/ui/playground"},"Playground")),r.a.createElement(f.a,{nav:!0,inNavbar:!0},r.a.createElement(g.a,{nav:!0,caret:!0},"Status"),r.a.createElement(v.a,null,r.a.createElement(b.a,{tag:o.a,to:"/ui/status"},"Runtime & Build Information"),r.a.createElement(b.a,{tag:o.a,to:"/ui/flags"},"Command-Line Flags"),r.a.createElement(b.a,{tag:o.a,to:"/ui/config"},"Configuration"))))))},y=t(208),O=t(58),x=t(60),j=t.n(x),N=t(69),k=t(213),w=t(61),S=t(62),C=function(e){return function(a){var t=a.error,n=a.isLoading,l=a.customErrorMsg,c=Object(N.a)(a,["error","isLoading","customErrorMsg"]);return t?r.a.createElement(k.a,{color:"danger"},l||r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Error:")," Error fetching ",e.displayName,": ",t.message)):n?r.a.createElement(w.a,{size:"3x",icon:S.a,spin:!0,className:"position-absolute",style:{transform:"translate(-50%, -50%)",top:"50%",left:"50%"}}):r.a.createElement(e,c)}},L=t(18),T=t.n(L),A=function(e,a){var t=Object(n.useState)({status:"start fetching"}),r=Object(s.a)(t,2),l=r[0],c=r[1],o=Object(n.useState)(),i=Object(s.a)(o,2),m=i[0],u=i[1],p=Object(n.useState)(!1),d=Object(s.a)(p,2),E=d[0],f=d[1];return Object(n.useEffect)((function(){!function(){var t,n;T.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return f(!0),r.prev=1,r.next=4,T.a.awrap(fetch(e,a));case 4:if((t=r.sent).ok){r.next=7;break}throw new Error(t.statusText);case 7:return r.next=9,T.a.awrap(t.json());case 9:n=r.sent,c(n),f(!1),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(1),u(r.t0);case 17:case"end":return r.stop()}}),null,null,[[1,14]])}()}),[e,a]),{response:l,error:m,isLoading:E}},J=(t(95),function(e){var a=e.yaml;return r.a.createElement("pre",{className:"config-yaml"},a)});J.displayName="Config";var F=C(J),I=function(e){var a=e.error,t=e.data,l=Object(n.useState)(!1),c=Object(s.a)(l,2),o=c[0],i=c[1],m=t&&t.yaml;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Configuration\xa0",r.a.createElement(j.a,{text:m,onCopy:function(e,a){i(a),setTimeout(i,1500)}},r.a.createElement(O.a,{color:"primary",disabled:!m},o?"Copied":"Copy to clipboard"))),r.a.createElement(F,{error:a,isLoading:!m,yaml:m}))},_=function(){var e=A("/api/v1/status/config"),a=e.response,t=e.error;return r.a.createElement(I,{error:t,data:a.data})},z=t(196),U=function(e){var a=e.data,t=void 0===a?{}:a;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Command-Line Flags"),r.a.createElement(z.a,{bordered:!0,size:"sm",striped:!0},r.a.createElement("tbody",null,Object.keys(t).map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("th",null,e),r.a.createElement("td",null,t[e]))})))))},P=C(U);U.displayName="Flags";var R=function(){var e=A("/api/v1/status/flags"),a=e.response,t=e.error,n=e.isLoading;return r.a.createElement(P,{data:a.data,error:t,isLoading:n})},M=["Runtime Information","Build Information"],D={startTime:{title:"Start time",customizeValue:function(e){return new Date(e).toUTCString()}},CWD:{title:"Working directory"},reloadConfigSuccess:{title:"Configuration reload",customizeValue:function(e){return e?"Successful":"Unsuccessful"}},lastConfigTime:{title:"Last successful configuration reload"},goroutineCount:{title:"Goroutines"}},Z=function(e){var a=e.data,t=void 0===a?[]:a;return r.a.createElement(r.a.Fragment,null,t.map((function(e,a){return r.a.createElement(n.Fragment,{key:a},r.a.createElement("h2",null,M[a]),r.a.createElement(z.a,{className:"h-auto",size:"sm",bordered:!0,striped:!0},r.a.createElement("tbody",null,Object.entries(e).map((function(e,a){var t=Object(s.a)(e,2),n=t[0],l=t[1],c=D[n]||{},o=c.title,i=void 0===o?n:o,m=c.customizeValue,u=void 0===m?function(e){return e}:m,p=c.customRow;return c.skip?null:p?u(l,n):r.a.createElement("tr",{key:n},r.a.createElement("th",{className:"capitalize-title",style:{width:"35%"}},i),r.a.createElement("td",{className:"text-break"},u(l,i)))})))))})))},B=C(Z);Z.displayName="Status";var V=function(){var e,a=A("".concat("/api/v1","/status/runtimeinfo")),t=A("".concat("/api/v1","/status/buildinfo"));return a.response.data&&t.response.data&&(e=[a.response.data,t.response.data]),r.a.createElement(B,{data:e,isLoading:a.isLoading||t.isLoading,error:a.error||t.error})},W=t(32),G=t(198),q=t(214),H=t(199),K=t(200),Q=t(201),X=t(202),Y=t(203),$=t(204),ee=t(205),ae=t(206),te=t(197),ne=t(63),re=t.n(ne),le=t(209),ce=t(67),se=t(207),oe=t(3),ie=t.n(oe),me=(t(177),t(64));le.a.registerLanguage("markdown",ce.a);var ue={text:'{{ template "ding.link.content" . }}',demoAlertJSON:JSON.stringify(me,null,2)},pe=function(){var e=Object(n.useState)("1"),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)("1"),o=Object(s.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(ue),f=Object(s.a)(u,2),g=f[0],v=f[1],b=Object(te.a)((function(){!function(){var e,a;T.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T.a.awrap(fetch("/api/v1/status/templates/render",{method:"POST",body:JSON.stringify(g)}));case 3:return e=t.sent,t.next=6,T.a.awrap(e.json());case 6:a=t.sent,e.ok?(L(!1),a.data&&N(a.data.markdown)):(L(!0),console.info("Error rendering template: ".concat(a.error))),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),L(!0),console.info("Unhandled error rendering template: ".concat(t.t0.toString()));case 14:case"end":return t.stop()}}),null,null,[[0,10]])}()}),250),h=Object(s.a)(b,1)[0];Object(n.useEffect)((function(){h()}),[h,g]);var y=Object(n.useState)(""),x=Object(s.a)(y,2),j=x[0],N=x[1],w=Object(n.useState)(!1),S=Object(s.a)(w,2),C=S[0],L=S[1],J=A("/api/v1/status/templates").response,F=[];J&&J.data&&J.data.templates&&(F=J.data.templates);var I=Object(n.useState)({text:ue.text}),_=Object(s.a)(I,2),z=_[0],U=_[1],P=r.a.createElement(G.a,null,r.a.createElement(q.a,{addonType:"prepend"},"Templates:"),r.a.createElement(H.a,{type:"select",onChange:function(e){try{var a=parseInt(e.target.value,10),t=F[a];U({text:t.text})}catch(n){U({text:ue.text})}}},F.map((function(e,a){return r.a.createElement("option",{key:a,value:a},e.name)}))),r.a.createElement(q.a,{addonType:"append"},r.a.createElement(O.a,{color:"primary",onClick:function(){var e=Object(W.a)({},g,{},{text:z.text});v(e)}},"Load")));return r.a.createElement("div",{className:"panel"},r.a.createElement(K.a,null,r.a.createElement(Q.a,null,r.a.createElement(X.a,null,r.a.createElement(Y.a,null,P))),r.a.createElement(Q.a,null,r.a.createElement(k.a,{color:"danger",hidden:!C},"Unable to render template, check the console for details."))),r.a.createElement(K.a,null,r.a.createElement(Q.a,null,r.a.createElement("div",{className:"preview-nav"},r.a.createElement(p.a,{pills:!0},r.a.createElement(d.a,null,r.a.createElement(E.a,{className:ie()({active:"1"===t}),onClick:function(){return l("1")},href:"#"},"Template")),r.a.createElement(d.a,null,r.a.createElement(E.a,{className:ie()({active:"2"===t}),onClick:function(){return l("2")},href:"#"},"Alert JSON")))),r.a.createElement($.a,{activeTab:t},r.a.createElement(ee.a,{tabId:"1"},r.a.createElement(X.a,null,r.a.createElement(Y.a,null,r.a.createElement(ae.a,{className:"form-label"},"Markdown Text:"),r.a.createElement(H.a,{type:"textarea",className:"text-monospace",style:{height:"500px"},value:g.text,onChange:function(e){return v(Object(W.a)({},g,{},{text:e.target.value}))}})))),r.a.createElement(ee.a,{tabId:"2"},r.a.createElement(X.a,null,r.a.createElement(Y.a,null,r.a.createElement(ae.a,{className:"form-label"},"Demo Prometheus Alert (JSON):"),r.a.createElement(H.a,{type:"textarea",className:"text-monospace",style:{height:"500px"},value:g.demoAlertJSON,onChange:function(e){return v(Object(W.a)({},g,{},{demoAlertJSON:e.target.value}))}})))))),r.a.createElement(Q.a,{md:6},r.a.createElement("div",{className:"preview-nav"},r.a.createElement(p.a,{pills:!0},r.a.createElement(d.a,null,r.a.createElement(E.a,{className:ie()({active:"1"===i}),onClick:function(){return m("1")},href:"#"},"Preview")),r.a.createElement(d.a,null,r.a.createElement(E.a,{className:ie()({active:"2"===i}),onClick:function(){return m("2")},href:"#"},"Markdown")))),r.a.createElement($.a,{activeTab:i},r.a.createElement(ee.a,{tabId:"1"},r.a.createElement(X.a,null,r.a.createElement(Y.a,null,r.a.createElement(ae.a,{className:"form-label"},"Preview:"),r.a.createElement("div",{className:"preview"},r.a.createElement("div",{className:"clearfix preview-content-area"},r.a.createElement("div",{className:"message-bubble"},r.a.createElement(re.a,{source:j,className:"markdown-content",parserOptions:{gfm:!1,commonmark:!0}}))))))),r.a.createElement(ee.a,{tabId:"2"},r.a.createElement(X.a,null,r.a.createElement(Y.a,null,r.a.createElement(ae.a,{className:"form-label"},"Markdown:"),r.a.createElement("div",{className:"preview-markdown"},r.a.createElement(le.a,{language:"markdown",style:se.a,customStyle:{height:"500px"}},j)))))))))},de=(t(183),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement(y.a,{fluid:!0,style:{paddingTop:70}},r.a.createElement(o.c,{basepath:"/ui"},r.a.createElement(o.b,{noThrow:!0,from:"/",to:"/ui/playground"}),r.a.createElement(pe,{path:"/playground"}),r.a.createElement(_,{path:"/config"}),r.a.createElement(R,{path:"/flags"}),r.a.createElement(V,{path:"/status"}))))});t(184);c.a.render(r.a.createElement(de,null),document.getElementById("root"))},64:function(e){e.exports=JSON.parse('{"receiver":"admins","status":"firing","alerts":[{"status":"firing","labels":{"alertname":"something_happened","env":"prod","instance":"server01.int:9100","job":"node","service":"prometheus_bot","severity":"warning","supervisor":"runit"},"annotations":{"summary":"Oops, something happened!"},"startsAt":"2016-04-27T20:46:37.903Z","endsAt":"0001-01-01T00:00:00Z","generatorURL":"https://example.com/graph#..."},{"status":"firing","labels":{"alertname":"something_happened","env":"staging","instance":"server02.int:9100","job":"node","service":"prometheus_bot","severity":"warning","supervisor":"runit"},"annotations":{"summary":"Oops, something happend!"},"startsAt":"2016-04-27T20:49:37.903Z","endsAt":"0001-01-01T00:00:00Z","generatorURL":"https://example.com/graph#..."}],"groupLabels":{"alertname":"something_happened","instance":"server01.int:9100"},"commonLabels":{"alertname":"something_happened","job":"node","service":"prometheus_bot","severity":"warning","supervisor":"runit"},"commonAnnotations":{"summary":"runit service prometheus_bot restarted, server01.int:9100"},"externalURL":"https://alert-manager.example.com","version":"3"}')},70:function(e,a,t){e.exports=t(185)},95:function(e,a,t){}},[[70,1,2]]]);
//# sourceMappingURL=main.0dea566d.chunk.js.map